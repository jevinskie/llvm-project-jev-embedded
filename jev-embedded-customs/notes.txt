~/code/xtool/LLVM-embedded-toolchain-for-Arm/build-HEAD/llvm/bin/clang -o fact-lib.elf fact-lib.c -I /opt/aarch64/aarch64-elf-llvm-2021-12-26/lib/clang-runtimes/aarch64_/include -L /opt/aarch64/aarch64-elf-llvm-2021-12-26/lib/clang-runtimes/aarch64_/lib -Wl,-r -v -Wl,--lto-load-pass-plugin=$HOME/code/xtool/LLVM-embedded-toolchain-for-Arm/build-HEAD/llvm/lib/jev-embedded-customs.dylib

~/code/xtool/LLVM-embedded-toolchain-for-Arm/build-HEAD/llvm/bin/opt -o fact-lib-o3.ll -S fact-lib.ll -load-pass-plugin ~/code/xtool/LLVM-embedded-toolchain-for-Arm/build-HEAD/llvm/lib/jev-embedded-customs.dylib --passes='default<Os>'

~/code/xtool/LLVM-embedded-toolchain-for-Arm/build-HEAD/llvm/bin/opt -O3 -o fact-lib-o3.ll -S fact-lib.ll -load ~/code/xtool/LLVM-embedded-toolchain-for-Arm/build-HEAD/llvm/lib/jev-embedded-customs.dylib -embcust
^ crashes

~/code/xtool/LLVM-embedded-toolchain-for-Arm/build-HEAD/llvm/bin/clang -o fact.elf fact-lib.o fact-main.o -nostdlib -I /opt/aarch64/aarch64-elf-llvm-2021-12-26/lib/clang-runtimes/aarch64_/include -L /opt/aarch64/aarch64-elf-llvm-2021-12-26/lib/clang-runtimes/aarch64_/lib -Wl,-r -v -Wl,--lto-load-pass-plugin=$HOME/code/xtool/LLVM-embedded-toolchain-for-Arm/build-HEAD/llvm/lib/jev-embedded-customs.dylib

~/code/xtool/LLVM-embedded-toolchain-for-Arm/build-HEAD/llvm/bin/clang -o fact.elf fact-lib.o fact-main.o -nostdlib -I /opt/aarch64/aarch64-elf-llvm-2021-12-26/lib/clang-runtimes/aarch64_/include -L /opt/aarch64/aarch64-elf-llvm-2021-12-26/lib/clang-runtimes/aarch64_/lib -Wl,-r -v -Wl,--lto-load-pass-plugin=$HOME/code/xtool/LLVM-embedded-toolchain-for-Arm/build-HEAD/llvm/lib/jev-embedded-customs.dylib -Xlinker --lto-newpm-passes='default<Os>'

~/code/xtool/LLVM-embedded-toolchain-for-Arm/build-HEAD/llvm/bin/ld.lld fact-lib.o fact-main.o -r --lto-load-pass-plugin=/Users/jevin/code/xtool/LLVM-embedded-toolchain-for-Arm/build-HEAD/llvm/lib/jev-embedded-customs.dylib -Bstatic -L/opt/aarch64/aarch64-elf-llvm-2021-12-26/lib/clang-runtimes/aarch64_/lib -L/Users/jevin/code/xtool/LLVM-embedded-toolchain-for-Arm/build-HEAD/llvm/bin/../lib/clang-runtimes/aarch64-none-elf/lib -L/Users/jevin/code/xtool/LLVM-embedded-toolchain-for-Arm/build-HEAD/llvm/lib/clang/14.0.0/lib/baremetal -o fact.elf --lto-newpm-passes='default<Os>,embcust'

~/code/xtool/LLVM-embedded-toolchain-for-Arm/build-HEAD/llvm/bin/ld.lld fact-lib.o fact-main.o -r --lto-load-pass-plugin=/Users/jevin/code/xtool/LLVM-embedded-toolchain-for-Arm/build-HEAD/llvm/lib/jev-embedded-customs.dylib -Bstatic -L/opt/aarch64/aarch64-elf-llvm-2021-12-26/lib/clang-runtimes/aarch64_/lib -L/Users/jevin/code/xtool/LLVM-embedded-toolchain-for-Arm/build-HEAD/llvm/bin/../lib/clang-runtimes/aarch64-none-elf/lib -L/Users/jevin/code/xtool/LLVM-embedded-toolchain-for-Arm/build-HEAD/llvm/lib/clang/14.0.0/lib/baremetal -o fact.elf --lto-newpm-passes='embcust,default<Os>' -mllvm-plugin -exported-syms=fact-exports.txt

~/code/xtool/LLVM-embedded-toolchain-for-Arm/install-HEAD/LLVMEmbeddedToolchainForArm-HEAD/bin/ld.lld -r build/jevmachopp/apfs/miniz/libminiz.a build/jevmachopp/apfs/lzfse/liblzfse.a build/jevmachopp/apfs/bzip2/libbz2.a build/jevmachopp/apfs/libapfs.a --whole-archive build/jevmachopp/uleb128/libuleb128.a build/jevmachopp/libjevmachopp.a --no-whole-archive --lto-load-pass-plugin=/Users/jevin/code/xtool/LLVM-embedded-toolchain-for-Arm/build-HEAD/llvm/lib/jev-embedded-customs.dylib -mllvm-plugin -embcust-exported-syms=3rdparty/jevmachopp/jevmachopp-u-boot-apfs-exported-syms.txt -v -Bstatic -L/Users/jevin/code/xtool/LLVM-embedded-toolchain-for-Arm/install-HEAD/LLVMEmbeddedToolchainForArm-HEAD/bin/../lib/clang-runtimes/aarch64-none-elf/lib -L/Users/jevin/code/xtool/LLVM-embedded-toolchain-for-Arm/install-HEAD/LLVMEmbeddedToolchainForArm-HEAD/lib/clang/14.0.0/lib/baremetal --start-group -lc++ -lc++abi -lc -lm -lclang_rt.builtins-aarch64 --end-group -o build/jevmachopp/libjevmachopp.o --lto-newpm-passes='embcust<link_libgcc>,default<Os>' -mllvm-plugin -embcust-libgcc=/opt/aarch64/aarch64-elf-llvm-2021-12-26/lib/clang-runtimes/aarch64-none-elf/lib/libclang_rt.builtins-aarch64.a
